<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <title>ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆåˆ†æãƒ©ãƒœ</title>

    <!-- PWA -->
    <link rel="manifest" href="manifest.json" />
    <meta name="theme-color" content="#ff6d00" />

    <!-- Android (old) -->
    <meta name="mobile-web-app-capable" content="yes" />

    <!-- iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="ã‚¢ãƒ³ã‚±ãƒ©ãƒœ" />
    <link rel="apple-touch-icon" href="kuticomi.png" />

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="kutilabo.png" />

    <style>
      :root{
        --bg1:#ffe0b2;
        --bg2:#fff3e0;
        --card:#fff;
        --text:#222;
        --muted:#666;
        --brand:#ff6d00;
        --shadow:0 14px 36px rgba(0,0,0,.14);
      }
      *{ box-sizing:border-box; }
      html,body{
        margin:0;
        min-height:100%;
        font-family:system-ui,-apple-system,"Segoe UI",sans-serif;
        color:var(--text);
        background:radial-gradient(circle at top, var(--bg1), var(--bg2));
      }
      body{
        padding:
          env(safe-area-inset-top)
          env(safe-area-inset-right)
          env(safe-area-inset-bottom)
          env(safe-area-inset-left);
      }
      .wrap{
        min-height:100vh;
        display:grid;
        place-items:center;
        padding:clamp(14px, 3vw, 28px);
      }
      .card{
        width:min(920px, 92vw);
        background:var(--card);
        border-radius:18px;
        padding:clamp(16px, 2.6vw, 28px);
        box-shadow:var(--shadow);
        border:1px solid rgba(0,0,0,.06);
      }
      .layout{
        display:grid;
        grid-template-columns: 1.2fr 0.8fr;
        gap:clamp(12px, 2vw, 20px);
        align-items:center;
      }
      @media (max-width: 760px){
        .layout{ grid-template-columns: 1fr; text-align:center; }
      }
      h1{
        margin:0 0 8px;
        font-size:clamp(1.2rem, 2.6vw, 1.7rem);
        letter-spacing:.02em;
      }
      p{
        margin:0 0 14px;
        color:var(--muted);
        line-height:1.7;
        font-size:clamp(.92rem, 1.8vw, 1.02rem);
      }
      .meta{
        margin-top:10px;
        background:rgba(255,109,0,.10);
        border-radius:12px;
        padding:10px 12px;
        color:#7a3b00;
        line-height:1.7;
        font-size:.9rem;
      }
      .right{
        display:grid;
        gap:10px;
        justify-items:center;
      }
      .btn{
        width:min(320px, 100%);
        min-height:48px; /* ã‚¿ãƒƒãƒ—ã—ã‚„ã™ã„ */
        display:inline-flex;
        align-items:center;
        justify-content:center;
        gap:8px;
        border:0;
        border-radius:999px;
        background:var(--brand);
        color:#fff;
        font-weight:800;
        font-size:1rem;
        text-decoration:none;
        cursor:pointer;
        box-shadow:0 10px 22px rgba(255,109,0,.28);
        -webkit-tap-highlight-color: transparent;
      }
      .btn:active{ transform:translateY(1px); }
      .urlBox{
        width:100%;
        border:1px solid rgba(0,0,0,.08);
        border-radius:12px;
        background:#fafafa;
        padding:10px 12px;
        font-size:.82rem;
        color:#555;
        word-break:break-all;
      }
      .row{
        width:100%;
        display:grid;
        grid-template-columns: 1fr auto;
        gap:8px;
        align-items:center;
      }
      .copyBtn{
        min-height:44px;
        border-radius:12px;
        border:1px solid rgba(0,0,0,.12);
        background:#fff;
        padding:10px 12px;
        font-weight:700;
        cursor:pointer;
      }
      .status{
        margin:0;
        font-size:.88rem;
        color:var(--muted);
        min-height:1.2em;
      }
      .spinner{
        width:18px; height:18px;
        border-radius:50%;
        border:3px solid rgba(255,109,0,.25);
        border-top-color:var(--brand);
        animation:spin .8s linear infinite;
      }
      @keyframes spin{ to{ transform:rotate(360deg); } }

      @media (prefers-reduced-motion: reduce){
        .spinner{ animation:none; }
        .btn{ box-shadow:none; }
      }
    </style>
  </head>

  <body>
    <div class="wrap">
      <div class="card" role="main" aria-live="polite">
        <div class="layout">
          <div>
            <h1>ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆåˆ†æãƒ©ãƒœã‚’èµ·å‹•ä¸­â€¦</h1>
            <p>æ•°ç§’ã§è‡ªå‹•çš„ã«ã‚¢ãƒ—ãƒªã¸ç§»å‹•ã—ã¾ã™ã€‚<br>é–‹ã‹ãªã„å ´åˆã¯å³ã®ãƒœã‚¿ãƒ³ã‹ã‚‰èµ·å‹•ã—ã¦ãã ã•ã„ã€‚</p>
            <div class="meta">
              â€» Googleã®ä»•æ§˜ã«ã‚ˆã‚Šã€å¤–éƒ¨ã‚µã‚¤ãƒˆã‹ã‚‰ã®iframeåŸ‹ã‚è¾¼ã¿ã¯æ‹’å¦ã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚<br>
              ã“ã®ãƒšãƒ¼ã‚¸ã¯ã€Œèµ·å‹•å°‚ç”¨ã®å…¥å£ã€ã§ã™ã€‚
            </div>
          </div>

          <div class="right">
            <div class="spinner" aria-hidden="true"></div>
            <a class="btn" id="openBtn" href="#"><span aria-hidden="true">ğŸš€</span><span>ã‚¢ãƒ—ãƒªã‚’é–‹ã</span></a>

            <div class="row">
              <div class="urlBox" id="urlText"></div>
              <button class="copyBtn" id="copyBtn" type="button">ã‚³ãƒ”ãƒ¼</button>
            </div>

            <p class="status" id="copyStatus"></p>
          </div>
        </div>
      </div>
    </div>

    <script>
      const GAS_URL =
        "https://script.google.com/macros/s/AKfycbynI_9xtTelAnhyFWhytVKPr0i9pNJYG-nJ1WE3UzTzLrXoii0VkQ8Kku1-k75XkoE/exec";

      document.getElementById("urlText").textContent = GAS_URL;

      function openApp(){ window.location.replace(GAS_URL); }

      document.getElementById("openBtn").addEventListener("click", (e)=>{
        e.preventDefault(); openApp();
      });

      document.getElementById("copyBtn").addEventListener("click", async ()=>{
        const el = document.getElementById("copyStatus");
        try{
          await navigator.clipboard.writeText(GAS_URL);
          el.textContent = "âœ… URLã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ";
        }catch(e){
          el.textContent = "âš ï¸ ã‚³ãƒ”ãƒ¼ã§ãã¾ã›ã‚“ã§ã—ãŸï¼ˆé•·æŠ¼ã—ã§ã‚³ãƒ”ãƒ¼ã—ã¦ãã ã•ã„ï¼‰";
        }
        setTimeout(()=> el.textContent = "", 1600);
      });

      setTimeout(openApp, 500);
    </script>
  </body>
</html>
